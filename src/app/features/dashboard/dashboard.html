<div class="container mx-auto px-4 py-8">

<!-- Header với nút Thêm mới -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold text-gray-800">Dashboard</h2>
    <a 
      routerLink="/add"
      class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
      <span class="text-xl">+</span>
      Thêm mới
    </a>
  </div>  

  <!-- Loading State -->
  @if (isLoading()){
    <div class="text-center py-12">
      <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      <p class="text-gray-600 mt-4">Đang tải dữ liệu...</p>
    </div>
  }
  <!-- Error State -->
  @if (error() && !isLoading()){
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
      <p class="font-bold">Lỗi kết nối!</p>
      <p>{{ error() }}</p>
      <button 
        (click)="loadData()" 
        class="mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
        Thử lại
      </button>
    </div>
  }
  
  <!-- Data State (hiển thị khi không loading và không có lỗi) -->
  @if(!isLoading() && !error()){
    <div>
    <!-- Balance Cards -->
    <app-balance-card
      [balance]="stats().balance"
      [income]="stats().income"
      [expense]="stats().expense">
    </app-balance-card>
    
    <!-- Transaction List -->
    <app-transaction-list
      [transactions]="transactions()">
    </app-transaction-list>
  </div>
  }
  
</div>